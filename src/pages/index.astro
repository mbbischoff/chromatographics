---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import type { CollectionEntry } from 'astro:content';
import Poem from '../components/Poem.astro';

const poems = await getCollection('poems');
// Sort poems by published date in reverse chronological order (newest first)
const sortedPoems = poems.sort((a, b) => new Date(b.data.published).getTime() - new Date(a.data.published).getTime());
---

<Layout title="chromatographics">
  {sortedPoems.map((poem: CollectionEntry<'poems'>) => (
    <Poem poem={poem} />
  ))}
</Layout> 